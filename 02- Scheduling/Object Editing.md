# Editing PODs and Deployments

## Редактирование POD 

Помните, что у тебя **не получится** редактировать спецификации существующего POD, кроме указанных ниже:

```sh
spec.containers[*].image

spec.initContainers[*].image

spec.activeDeadlineSeconds

spec.tolerations
```

Например, ты не можешь редактировать переменные среды, учетные записи служб, ограничения ресурсов (все это мы обсудим позже) у работающего POD. Но если очень хочется, то есть 2 варианта:

### 1. kubectl edit pod
Запусти команду 
```sh
kubectl edit pod <pod name>
```
Это откроет спецификацию POD в редакторе (обычно `vi`). Затем отредактируй необходимые свойства. Когда ты решишь его сохранить, тебе будет отказано. Это связано с тем, что ты пытаешься изменить недоступные для редактирования поля POD.

> Копия файла с товими изменениями сохранится в `/tmp`-директории.

Теперь можно удалить это существующий POD, выполнив команду:
```sh
kubectl delete pod myapp
```
Затем создай новый POD с сделанными изменениями, используя временный файл
```sh
kubectl create -f /tmp/kubectl-edit-fttha.yaml
```
### 2. Извлечь определение в YAML

Извлечем определение POD в формате YAML в файл с помощью команды
```sh
kubectl get pod webapp -o yaml > new-pod.yaml
```
Затем внесем изменения в этот экспортированный файл с помощью текстового редактора

Сохраним изменения `new-pod.yaml`

Удалим существующий POD

```sh
kubectl delete pod myapp
```

Затем создадим из отредактированного файла новый POD
```sh
kubectl create -f new-pod.yaml
```

## Редактирование Deployment 

У deployments можно легко редактировать любое поле / свойство шаблона POD. Поскольку шаблон POD является дочерним по отношению к спецификации deployment, при каждом изменении deployment будет сам автоматически удалять и создавать новый POD с новыми изменениями.

Т.е. для редактирования свойств POD, которые являются частями развертываний, мы можем использовать команду
```sh
kubectl edit deployment some-deployment
```

